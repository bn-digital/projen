import {  BrandNewProject,  BrandNewProjectOptions,  defaultReactOptions,  defaultStrapiOptions,  ReactOptions,  ReactProject,  StrapiOptions,  StrapiProject,} from ".."import { GraphqlDeps } from "../../components/graphql"export interface FullStackProjectOptions extends BrandNewProjectOptions {  readonly dockerCompose?: boolean  readonly react?: ReactOptions  readonly strapi?: StrapiOptions}/** * @pjid full-stack */export class FullStackProject extends BrandNewProject {  readonly frontend: BrandNewProject | undefined  readonly backend: BrandNewProject | undefined  constructor(options: FullStackProjectOptions) {    const {      react = defaultReactOptions,      strapi = defaultStrapiOptions,      linters = { eslint: true, stylelint: true, prettier: true },      ide = { editorconfig: true },      graphql = { config: true },      docker = {},      helm = { helmfile: true, chart: false },      ...initialOptions    } = options    options = BrandNewProject._withDefaults({ ...initialOptions, react, strapi })    super({      docker,      linters,      ide,      graphql,      helm,      ...options,    })    if (react) {      this.frontend = new ReactProject({        ...options,        parent: this,        name: "frontend",        outdir: "packages/frontend",        devDeps: ["@bn-digital/typescript-config@1.3.0"],        react: { ...defaultReactOptions, ...react },        graphql: { type: GraphqlDeps.APOLLO_CLIENT, codegen: true },      })    }    if (strapi) {      this.backend = new StrapiProject({        ...options,        parent: this,        name: "backend",        outdir: "packages/backend",        strapi: { ...defaultStrapiOptions, ...strapi },      })    }  }  preSynthesize() {    this.tryFindObjectFile("package.json")?.addOverride(      "scripts.start",      "yarn workspaces foreach --exclude=root run start"    )    this.tryFindObjectFile("package.json")?.addOverride(      "scripts.build",      "yarn workspaces foreach --exclude=root run build"    )    super.preSynthesize()  }}